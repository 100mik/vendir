## Docs

`vendir` allows to declaratively state what should be in a directory. It was designed to easily manage libraries for [ytt](https://get-ytt.io); however, it is a generic tool and does not care how files within managed directories are used.

`vendir sync` commands look for `vendir.yml` file for its configuration. `vendir.yml` specifies source of files for each managed directory. Currently there are only two file source types: `git` and `manual`.

See example within [examples/git-and-manual](../examples/git-and-manual) directory.

### `vendir.yml` spec

```yaml
apiVersion: vendir.k14s.io/v1alpha1
kind: Config

# one or more directories to manage with vendir
directories:
- # path is relative to vendir.yml location
  path: config/_ytt_lib

  contents:
  - # path lives relative to directory path # (required)
    path: github.com/cloudfoundry/cf-k8s-networking

    # states that directory specified by above path
    # is managed by hand; nothing to do for vendir (optional)
    manual: {}

    # uses git to clone repository (optional)
    git:
      # http or ssh urls are supported (required)
      url: https://github.com/cloudfoundry/cf-k8s-networking
      # branch, tag, commit; origin is the name of the remote (required)
      ref: origin/master

    # includes paths specify what should be included. by default
    # all paths are included (optional)
    includePaths:
    - cfroutesync/crds/**/*
    - install/ytt/networking/**/*

    # exclude paths are "placed" on top of include paths (optional)
    excludePaths: []

    # specifies paths to files that need to be includes for
    # legal reasons such as LICENSE file. Defaults to few 
    # LICENSE, NOTICE and COPYRIGHT variations (optional)
    legalPaths: []
```

### `vendir.lock.yml` spec

Lock file is generated by `vendir sync` and is placed next to related `vendir.yml`.

```yaml
apiVersion: vendir.k14s.io/v1alpha1
kind: LockConfig

directories:
- path: config/_ytt_lib
  contents:
  - path: github.com/cloudfoundry/cf-k8s-networking

    # present if this is managed manually
    manual: {}

    # present if this was sourced through git
    git:
      # resolved checked out commit SHA
      sha: 2b009b61fa8afb330a4302c694ee61b11104c54c
      # resolved checked out commit title
      commitTitle: 'feat: add /metrics prometheus scrapable endpoint...'
```
